## 正则表达式

#### 正则表达式的理论基础

 1. ##### 普通字符的表示

    我们说正则表达式主要由普通字符和元字符组成，那么我们首先先看看普通字符该如何表示。大部分普通字符由字符本身即可表示，例如：'s','i','n','g','l','e'等。除此之外，也有一些特殊的表示方式。
         以/0开头，后面紧跟1-3位数字，表示的是一个八进制数。这个数的十进制值对应于ASCII编码中的相应字符。
         以/x或者/X开头，后面紧跟两位字符，表示的是一个十六进制的数。该数的十进制的值对应于ASCII编码中相应的字符。
         以/u开头，后面紧跟四位字符，表示一个Unicode编号。该编号对应于Unicode字符集中的一个具体字符。

 2. **元字符**

    元字符是在正则表达式中有特殊意义的字符

    ​	**常用的元字符：**

    ![](../images/24.png)

    ​	在某种特殊情况下，需要将这些元字符当做普通字符使用，我们使用 '\'+元字符，表示转移该元字符，此后该元字符将表示一个普通字符。例如：'\\\'，'\\^'，它们分别表示的是 '\\'和 '^'，不再具有特殊含义了。下面我们开始逐渐介绍正则表达式语法中的元字符的特殊含义。

    ​	但是需要注意的是：Java中的String中"\\"本来就是转义的意思，如果我们需要匹配"\\"就需要写成“\\\\\\\”.

    ```java
    String str = "a\\b";
    String regex = "\\\\";
    str = str.replaceAll(regex, "x");
    System.out.println(str);//输出：axb
    ```

 3. ##### 字符组匹配单个字符

    ​	我们用一对中括号（[.....]）表示字符组，整个字符组中会有多个字符位列其中，该字符组表示的含义是：**匹配任意一个字符，该字符是位列字符组中的。**

    ​	例如：[single]匹配的是字符's','i','n','g','l','e'中的任意一个字符。以上我们简单介绍了字符组的基本概念以及它所能匹配的内容，其实有时候为了表述连续的字符，我们会结合元字符 '-' 一起来操作字符组。例如：[0123456789]，匹配的是0到9之间的任意一个数字，对于这种情况我们可以选择这样来简化操作：[0-9]。其实两者表述的含义是一样的，为了简化起见，如果遇到连续的字符表述，可以选择使用元字符来简化。同样的还有[a-z]，它匹配任意一个小写字母。**对于元字符 '-' 还需要说明一点的是：该字符只有出现在两个字符之间才具有特殊含义，单独出现在字符组的所有字符之前或者之后只能表述普通字符 '-'** 。下面介绍有关字符组的一些其他相关的元字符。

    ​	**元字符 '^' 在“字符组”中表示排除的意思**，**只有放在所有字符的最前面才具有特殊含义**，否则只能表示普通字符。例如：`[^1234]`，该字符组匹配一个字符，但是不是1或2或3或4。当然，`[c^yy]`，匹配的是四个普通字符，'c','^','y','y'。此外，需要注意一点的是**，除了以上介绍的几种元字符必须置放于指定位置上才能起作用以外，其余所有元字符在字符组中统统被视作普通字符，不再具有特殊含义**。

 4. ##### 量词

    量词：*、+、？、{min,max}

    它们主要用于**指定量词前面的字符**在匹配时可以多次出现。

    例如：

    ​	se*cyy：其中e出现0-无穷次

    ​	se{0,10}cyy：其中e可以出现0-10次

    ​	se{9}cyy：其中e必须出现9次

    ​	se{3,}：其中e出现3-正无穷次

 5. ##### 分组

       在介绍分组之前，无论是使用量词还是字符组都是针对的一个字符。而分组针对的就是一串字符，**我们也可以对分组使用量词，控制该分组出现的次数。**我们使用（）括号表示分组，例如：

    ​	sing(le)+cccc：在该正则表达式中，分组le可以出现一次或者多次
    ​	sing(le)*cccc：在该正则表达式中，分组le可以出现零次或者多次

    ​	还可以在“分组”中使用"|"表示或：

    ```java
    String str = "aaabbb";
    String regex = "^(aaa|bbb)+";//表示"aaa"或"bbb"在目标字符串开头至少出现一次
    System.out.println(str.matches(regex));//返回true 
    ```

#### 正则表达式案例

 **1、Email地址**
     通常我们的Email地址的格式主要是：

- 3-18字符，可使用英文、数字、减号、点或下划线

  ```java
  [-._a-z0-9A-Z]{3,18}
  ```

- 必须以英文字母开头，必须以英文字母或数字结尾

  ```java
  [a-zA-Z][-._a-z0-9A-Z]{1,16}/w
  ```

  

  **2、手机号码**
     在看一个手机号码的正则表达式匹配情况，具体要求如下：

- 中国的手机号码都是11位数字

- 目前手机号第1位都是1，第2位取值为3、4、5、7、8之一

  ```java
  1[34578][0-9]{9}
  ```

**3、将英文句子拆分成单词**

```java
String str="hello world,my name is zhangsan.My name is zhangsan.";
String[] arr = str.split("[., ]+");//使用空格，逗号，句号分割字符串
System.out.println(Arrays.toString(arr));
```



参考文章：[详解Java API之正则表达式](https://www.cnblogs.com/yangming1996/p/7168353.html)